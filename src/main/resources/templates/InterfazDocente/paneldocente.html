<!DOCTYPE html>
<html lang="es" xmlns:th="http://thymeLeaf.org">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title></title>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap">
	<link rel="stylesheet" th:href="@{/assetsDocente/stylespanel.css}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
</head>

<body>
	<nav>
		<div class="nav-logo">
			<img th:src="@{/assetsDocente/img/ChatGPT Image 4 jul 2025, 02_22_14 p.m..png}" alt="CodiPlayCo Logo" />
		</div>
		<button class="toggle-mode-btn" title="Cambiar modo"
			style="margin:0 auto 0.5rem auto; display:block; background:#fff2; border:none; color:#fff; font-size:1.7rem; border-radius:50%; width:44px; height:44px; box-shadow:0 2px 8px #0002; cursor:pointer; transition:background 0.2s, color 0.2s; display:flex; align-items:center; justify-content:center;"><i
				class="fa-solid fa-moon"></i></button>
		<a th:href="@{/InterfazDocente/paneldocente}"><span class="nav-icon"><i
					class="fa-solid fa-house"></i></span>Inicio</a>
		<a th:href="@{/InterfazDocente/mis-cursos}"><span class="nav-icon"><i class="fa-solid fa-book"></i></span>Mis
			Cursos</a>
		<a th:href="@{/InterfazDocente/tareas}"><span class="nav-icon"><i
					class="fa-solid fa-clipboard-list"></i></span>Tareas</a>
		<a th:href="@{/InterfazDocente/foros}"><span class="nav-icon"><i
					class="fa-solid fa-comments"></i></span>Foros</a>
		<a th:href="@{/InterfazDocente/mensajes}"><span class="nav-icon"><i
					class="fa-solid fa-envelope"></i></span>Mensajes</a>
		<a th:href="@{/InterfazDocente/asistencia}"><span class="nav-icon"><i
					class="fa-solid fa-calendar-check"></i></span>Asistencia</a>
	</nav>

	<div class="main-layout">
		<header>
			<div class="header-logo-title">
				<!-- Logo eliminado -->
				<h1 class="titulo-blanco"><span class="panel-icon"><i
							class="fa-solid fa-chalkboard-user"></i></span>Panel del Docente</h1>
			</div>
			<div class="topbar-right">
				<!-- Botón de modo oscuro eliminado del header -->
				<div class="notificaciones" title="Notificaciones"><i class="fa-solid fa-bell"></i></div>
				<div class="perfil">
					<i class="fa-solid fa-user"></i> 
					<span th:if="${docente != null}" th:text="${docente.nombre}">Docente</span>
					<span th:if="${docente == null}">Docente</span>
					<div class="submenu">
						<p th:if="${docente != null}"><strong>Nombre:</strong> <span th:text="${docente.nombre + ' ' + docente.apellido}">Nombre Completo</span></p>
						<p th:if="${docente == null}"><strong>Nombre:</strong> No disponible</p>
						<p><strong>Rol:</strong> Docente</p>

							<a th:href="@{/InterfazDocente/logout}" style="color: inherit; text-decoration: none;">
								<button><i class="fa-solid fa-right-from-bracket"></i> Cerrar Sesión</button>
							</a>
					</div>
				</div>
			</div>
		</header>
		<script>
			// Mantener modo oscuro con localStorage
			function setDarkMode(enabled) {
				if (enabled) {
					document.body.classList.add('dark-mode');
					localStorage.setItem('theme', 'dark-mode');
				} else {
					document.body.classList.remove('dark-mode');
					localStorage.setItem('theme', 'light-mode');
				}
			}
			// Al cargar la página, aplicar preferencia
			(function () {
				const theme = localStorage.getItem('theme');
				if (theme === 'dark-mode') {
					document.body.classList.add('dark-mode');
					const btn = document.querySelector('.toggle-mode-btn');
					if (btn) {
						const icon = btn.querySelector('i');
						icon.classList.remove('fa-moon');
						icon.classList.add('fa-sun');
					}
				}
			})();
			// Alternar icono luna/sol y modo oscuro
			const btn = document.querySelector('.toggle-mode-btn');
			if (btn) btn.addEventListener('click', function () {
				const icon = btn.querySelector('i');
				const isDark = !document.body.classList.contains('dark-mode');
				setDarkMode(isDark);
				if (isDark) {
					icon.classList.remove('fa-moon');
					icon.classList.add('fa-sun');
				} else {
					icon.classList.remove('fa-sun');
					icon.classList.add('fa-moon');
				}
			});
		</script>
		
		<div class="container">
			<div class="panel-bienvenida-bg">
				<div class="panel-bienvenida-content">
					<div class="panel-bienvenida-left">
						<div class="panel-bienvenida-foto">
							<i class="fa-solid fa-user-circle"></i>
						</div>
						<div class="panel-bienvenida-texto">
							<div class="panel-bienvenida-titulo">Bienvenido a CodiPlayCo</div>
							<div class="panel-bienvenida-nombre" th:if="${docente != null}" th:text="${docente.nombre + ' ' + docente.apellido}">NOMBRE DOCENTE</div>
							<div class="panel-bienvenida-nombre" th:if="${docente == null}">Docente</div>
						</div>
					</div>
					<div class="panel-bienvenida-botimg bot-animado">
						<img th:src="@{/assetsDocente/img/02baebb1-f087-4bee-bbdf-0af4f44d7563-removebg-preview.png}" alt="Docente Bot" />
					</div>
				</div>
			</div>
			
			<div class="panel-bienvenida-datos">
				<h3 class="datos-titulo">Datos del Docente</h3>
				
				<!-- Mensaje de error si no se encuentra el docente -->
				<div th:if="${error != null}" class="error-message" style="background: #ffebee; color: #c62828; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; border: 1px solid #ef5350;">
					<i class="fa-solid fa-exclamation-triangle"></i> <span th:text="${error}">Error</span>
				</div>
				
				<!-- Datos del docente si existe -->
				<div th:if="${docente != null}">
					<div class="form-row">
						<label>Nombre completo:</label>
						<div class="dato-docente" th:text="${docente.nombre} + ' ' + ${docente.apellido}">NOMBRE DOCENTE</div>
					</div>
					<div class="form-row">
						<label>Email:</label>
						<div class="dato-docente" th:text="${docente.email}">ejemplo@gmail.com</div>
					</div>
					<div class="form-row">
						<label>Documento:</label>
						<div class="dato-docente" th:text="${docente.documento}">0604796581</div>
					</div>
					<div class="form-row">
						<label>Teléfono:</label>
						<div class="dato-docente" th:text="${docente.celular}">0999999999</div>
					</div>
					<div class="form-row">
						<label>Fecha de Nacimiento:</label>
						<div class="dato-docente" th:text="${docente.fechaNacimiento}">No disponible</div>
					</div>
					<div class="form-row">
						<label>Fecha de Registro:</label>
						<div class="dato-docente" th:text="${docente.fecharegistro}">No disponible</div>
					</div>
					<div class="form-row">
						<label>Último Acceso:</label>
						<div class="dato-docente" th:text="${docente.ultimoAcceso}">No disponible</div>
					</div>
					<div class="form-row">
						<label>Estado:</label>
						<div class="dato-docente" th:text="${docente.activo}">Activo</div>
					</div>
					<div class="form-row">
						<label>Rol:</label>
						<div class="dato-docente">Docente</div>
					</div>
					
				</div>
				
				<!-- Mensaje si no hay datos del docente -->
				<div th:if="${docente == null && error == null}" class="no-data-message" style="background: #fff3e0; color: #ef6c00; padding: 1rem; border-radius: 8px; text-align: center;">
					<i class="fa-solid fa-info-circle"></i> <span>Para ver los datos del docente, inicie sesión con un email válido</span>
				</div>
			</div>
		</div>
	</div>
</body>

</html>